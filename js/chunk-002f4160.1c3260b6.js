(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-002f4160"],{"18a0":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content",attrs:{id:"background"}},[a("div",{staticClass:"app flex-row align-items-center"},[a("div",{staticClass:"container"},[a("b-row",{staticClass:"justify-content-center mb-5"},[a("b-col",{attrs:{md:"5",lg:"4",xl:"4"}},[a("b-card-group",[a("b-card",{staticClass:"p-1 pc-view",attrs:{"no-body":""}},[a("b-card-body",[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[a("p",{staticClass:"text-center text-danger"},[t._v(t._s(t.loginValidation))]),a("div",{staticClass:"mb-1"},[a("b-form-group",[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("label",{staticClass:"line-3 ml-1 txtColor"},[t._v("EMAILID")])]),a("b-col",{attrs:{cols:"12"}},[a("b-input-group",{staticClass:"mb-1 mt-1"},[a("b-input",{staticClass:"form-control bgColor sp-view",attrs:{id:"input-id",type:"text"},model:{value:t.$v.login.login_id.$model,callback:function(e){t.$set(t.$v.login.login_id,"$model","string"===typeof e?e.trim():e)},expression:"$v.login.login_id.$model"}})],1),a("show-errors",{attrs:{control:t.$v.login.login_id,field:t.$t("USERID")}})],1)],1)],1),a("b-form-group",[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("label",{staticClass:"line-3 ml-1 txtColor"},[t._v(" PASSWORD ")])]),a("b-col",{attrs:{cols:"12"}},[a("b-input-group",{staticClass:"mb-1 mt-1"},[a("b-form-input",{staticClass:"form-control bgColor sp-view",attrs:{id:"input-pwd",type:"password",autocomplete:"password"},model:{value:t.$v.login.password.$model,callback:function(e){t.$set(t.$v.login.password,"$model","string"===typeof e?e.trim():e)},expression:"$v.login.password.$model"}})],1),a("show-errors",{attrs:{control:t.$v.login.password,field:t.$t("PASSWORD")}})],1)],1)],1)],1),a("b-row",[a("b-col",{staticClass:"text-center mb-3",attrs:{cols:"12"}},[a("b-button",{staticClass:"px-4 login-btn",attrs:{variant:"primary",type:"submit"}},[t._v("LOGIN")])],1),a("b-col",{staticClass:"text-center",attrs:{cols:"12"}},[t.isAdmin?a("b-link",{staticClass:"px-0",attrs:{variant:"link",to:"/reset/password/request"}},[a("u",{staticClass:"linkTxt"},[t._v(t._s(t.$t("FORGETPASSWORD")))])]):a("b-link",{staticClass:"px-0",attrs:{variant:"primary",to:"/reset/password/request"}},[a("u",{staticClass:"linkTxt"},[t._v(t._s(t.$t("FORGETPASSWORD")))])])],1)],1)],1)],1)],1)],1)],1)],1),a("div",{staticClass:"justify-content-center text-center footerDispaly"},[a("span",{staticClass:"text-center textColor"},[t._v(t._s(t.$t("COPYRIGHT")))])])],1)])])},i=[],o=(a("96cf"),a("1da1")),n=(a("6762"),a("2fdb"),a("b5ae")),r=a("c827"),l=a("3f54"),c=a("8992"),d=a("2f4e"),u=l["a"].get("basic"),p={name:"Login",components:{ShowErrors:r["a"]},data:function(){return{login:{login_id:"",password:""},loginValidation:"",access_role:""}},validations:{login:{login_id:{required:n["required"]},password:{required:n["required"]}}},computed:{isAdmin:function(){return"ADMIN"===localStorage.getItem("role")}},watch:{login:{handler:function(){this.clearApiValidation()},deep:!0}},beforeCreate:function(){window.location.pathname.includes("mng")?(localStorage.setItem("role","ADMIN"),this.access_role="ADMIN"):(localStorage.setItem("role","USER"),this.access_role="USER")},methods:{submit:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.login.$touch(),this.$v.login.$invalid){t.next=8;break}return this.loginValidation="",t.next=5,u.postAPI("login",{client_login_id:this.login.login_id,client_login_pass:this.login.password});case 5:e=t.sent,a=e.data,a.success&&(console.log("OOOOOO",a),localStorage.setItem("token",a.data.access_token),localStorage.setItem("user_id",a.data.user_data.id),this.$store.dispatch("setUserDetails",{clientName:a.data.user_data.first_name,clientPersonName:a.data.user_data.first_name,clientCompanyName:a.data.user_data.last_name,isAdmin:!0}),localStorage.setItem("client_account_no",9),localStorage.setItem("client_no",9),localStorage.setItem("clientName",a.data.user_data.first_name),localStorage.setItem("isAdmin",!0),localStorage.setItem("clientPersonName",a.data.user_data.first_name),localStorage.setItem("clientCompanyName",a.data.user_data.last_name),this.$router.push({name:"admin"}));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getUserProfile:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.getAPI(d["a"].USER,"",!0);case 3:e=t.sent,a=e.data,a.success?this.$store.dispatch("setUserDetails",a.data):Object(c["c"])("not_a_valid_user","sorry not a valid user"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),Object(c["c"])("user_details_profile",t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),clearApiValidation:function(){this.loginValidation=""}}},m=p,g=(a("9564"),a("2877")),b=Object(g["a"])(m,s,i,!1,null,"ffc1dc72",null);e["default"]=b.exports},9564:function(t,e,a){"use strict";a("ec70")},ec70:function(t,e,a){}}]);
//# sourceMappingURL=chunk-002f4160.1c3260b6.js.map