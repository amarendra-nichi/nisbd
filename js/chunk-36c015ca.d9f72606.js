(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36c015ca"],{3045:function(e,t,s){"use strict";s("9b69")},"9b69":function(e,t,s){},a959:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"headerTextBdc"},[e._v("Search Blood Donation Club")]),s("b-row",{staticClass:"mt-2"},[s("b-col",{attrs:{cols:"12",xl:"6",id:"options"}},[s("label",[e._v("Select Blood Group")]),s("b-form-select",{attrs:{options:e.bloodGroupOption,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},model:{value:e.selectedBloodGroup,callback:function(t){e.selectedBloodGroup=t},expression:"selectedBloodGroup"}})],1),s("b-col",{staticClass:"justifyMobile",attrs:{id:"options",cols:"12",xl:"6"}},[s("label",[e._v("Select Country")]),s("b-form-select",{attrs:{options:e.CountryOption,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},on:{change:e.getStateData},model:{value:e.selectedCountry,callback:function(t){e.selectedCountry=t},expression:"selectedCountry"}})],1)],1),s("br"),s("b-row",[s("b-col",{attrs:{id:"options",cols:"12",xl:"4"}},[s("label",[e._v("Select State")]),s("b-form-select",{attrs:{options:e.StateOption,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},on:{change:e.getDistData},model:{value:e.selectedState,callback:function(t){e.selectedState=t},expression:"selectedState"}})],1),s("b-col",{staticClass:"justifyMobile",attrs:{id:"options",cols:"12",xl:"4"}},[s("label",[e._v("Select District")]),s("b-form-select",{attrs:{options:e.DistOption,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},on:{change:e.getCityData},model:{value:e.selectedDist,callback:function(t){e.selectedDist=t},expression:"selectedDist"}})],1),s("b-col",{staticClass:"justifyMobile",attrs:{id:"options",cols:"12",xl:"4"}},[s("label",[e._v("Select City")]),s("b-form-select",{attrs:{options:e.CityOption,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},model:{value:e.selectedCity,callback:function(t){e.selectedCity=t},expression:"selectedCity"}})],1)],1),s("br"),s("b-row",[s("b-col",{staticClass:"d-flex justify-content-center text-center"},[s("b-button",{attrs:{variant:"primary"},on:{click:e.getDonarData}},[e._v("Search")])],1)],1),s("div",{staticClass:"mt-5"},[s("b-row",[s("b-col",{attrs:{cols:"6",xl:"6"}},[s("label",[e._v("User List")])]),s("b-col",{staticClass:"float-right",attrs:{cols:"6",xl:"6"}},[s("b-button",{staticClass:"float-right",attrs:{variant:"primary"},on:{click:e.showRegisterModal}},[e._v("Register User")])],1)],1)],1),s("div",{staticClass:"mt-4"},[s("b-table",{key:e.indexRefresh,ref:"selectableTable",attrs:{id:"selectableTable",busy:e.isBusy,"select-mode":e.selectModeTable,fields:e.fields,items:e.DonarData,striped:!0,bordered:!1,borderless:!1,"head-variant":"dark",responsive:"","sticky-header":""},scopedSlots:e._u([{key:"cell(BloodGroup)",fn:function(t){return[e._v(e._s(t.value))]}},{key:"cell(Name)",fn:function(t){return[e._v(e._s(t.value))]}},{key:"cell(Email)",fn:function(t){return[e._v(e._s(t.value))]}},{key:"cell(Address)",fn:function(t){return[e._v(e._s(t.value))]}}])}),s("b-modal",{ref:"tree-modal1",attrs:{id:"tree-modal1","hide-footer":!0,centered:"",variant:"secondary","modal-class":"py-0","body-class":"py-0",size:"lg","footer-class":"border-1","header-class":"border-1 bg-white pd-0","button-size":"sm","hide-header-close":""}},[s("b-card",{staticClass:"pop-up-box border-0"},[s("b-row",[s("b-col",{attrs:{cols:"12",xl:"4"}},[s("label",[e._v("first name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.RegisterInfo.first_name,expression:"RegisterInfo.first_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.RegisterInfo.first_name},on:{input:function(t){t.target.composing||e.$set(e.RegisterInfo,"first_name",t.target.value)}}}),s("show-errors",{attrs:{control:e.$v.RegisterInfo.first_name,field:e.$t("first_name")}})],1),s("b-col",{attrs:{cols:"12",xl:"4"}},[s("label",[e._v("last name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.RegisterInfo.last_name,expression:"RegisterInfo.last_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.RegisterInfo.last_name},on:{input:function(t){t.target.composing||e.$set(e.RegisterInfo,"last_name",t.target.value)}}}),s("show-errors",{attrs:{control:e.$v.RegisterInfo.last_name,field:e.$t("last_name")}})],1),s("b-col",{attrs:{cols:"12",xl:"4"}},[s("label",[e._v("Phone no")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.RegisterInfo.phone,expression:"RegisterInfo.phone"}],staticClass:"form-control",domProps:{value:e.RegisterInfo.phone},on:{input:function(t){t.target.composing||e.$set(e.RegisterInfo,"phone",t.target.value)}}}),s("show-errors",{attrs:{control:e.$v.RegisterInfo.phone,field:e.$t("phone")}})],1)],1),s("b-row",{staticClass:"mt-3"},[s("b-col",{attrs:{cols:"12",xl:"4"}},[s("label",[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.RegisterInfo.email,expression:"RegisterInfo.email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.RegisterInfo.email},on:{input:function(t){t.target.composing||e.$set(e.RegisterInfo,"email",t.target.value)}}}),s("show-errors",{attrs:{control:e.$v.RegisterInfo.email,field:e.$t("email")}})],1),s("b-col",{attrs:{cols:"12",xl:"4"}},[s("label",[e._v("Select Blood Group")]),s("b-form-select",{attrs:{options:e.bloodGroup_Option,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},model:{value:e.RegisterInfo.selected_bloodgroup,callback:function(t){e.$set(e.RegisterInfo,"selected_bloodgroup",t)},expression:"RegisterInfo.selected_bloodgroup"}}),s("show-errors",{attrs:{control:e.$v.RegisterInfo.selected_bloodgroup,field:e.$t("bloodgroup")}})],1),s("b-col",{attrs:{cols:"12",xl:"4"}},[s("label",[e._v("Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.RegisterInfo.address,expression:"RegisterInfo.address"}],staticClass:"form-control",domProps:{value:e.RegisterInfo.address},on:{input:function(t){t.target.composing||e.$set(e.RegisterInfo,"address",t.target.value)}}}),s("show-errors",{attrs:{control:e.$v.RegisterInfo.address,field:e.$t("address")}})],1)],1),s("b-row",{staticClass:"mt-3"},[s("b-col",{attrs:{cols:"12",xl:"4"}},[s("label",[e._v("Select Country")]),s("b-form-select",{attrs:{options:e.Country_Option,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},on:{change:e.getStateDetails},model:{value:e.RegisterInfo.selected_Country,callback:function(t){e.$set(e.RegisterInfo,"selected_Country",t)},expression:"RegisterInfo.selected_Country"}}),s("show-errors",{attrs:{control:e.$v.RegisterInfo.selected_Country,field:e.$t("Country")}})],1),s("b-col",{attrs:{cols:"12",xl:"4"}},[s("label",[e._v("Select State")]),s("b-form-select",{attrs:{options:e.State_Option,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},on:{change:e.getDistDetails},model:{value:e.RegisterInfo.selected_State,callback:function(t){e.$set(e.RegisterInfo,"selected_State",t)},expression:"RegisterInfo.selected_State"}}),s("show-errors",{attrs:{control:e.$v.RegisterInfo.selected_State,field:e.$t("State")}})],1),s("b-col",{attrs:{cols:"12",xl:"4"}},[s("label",[e._v("Select District")]),s("b-form-select",{attrs:{options:e.District_Option,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},on:{change:e.getCityDetails},model:{value:e.RegisterInfo.selected_District,callback:function(t){e.$set(e.RegisterInfo,"selected_District",t)},expression:"RegisterInfo.selected_District"}}),s("show-errors",{attrs:{control:e.$v.RegisterInfo.selected_District,field:e.$t("District")}})],1)],1),s("b-row",{staticClass:"mt-3"},[s("b-col",{attrs:{cols:"12",xl:"4"}},[s("label",[e._v("Select City")]),s("b-form-select",{attrs:{options:e.City_Option,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},model:{value:e.RegisterInfo.selected_City,callback:function(t){e.$set(e.RegisterInfo,"selected_City",t)},expression:"RegisterInfo.selected_City"}}),s("show-errors",{attrs:{control:e.$v.RegisterInfo.selected_City,field:e.$t("City")}})],1),s("b-col",{attrs:{cols:"12",xl:"4"}},[s("label",[e._v("Is Plasma Donar")]),s("b-form-select",{attrs:{options:e.plasmadonar_Option,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},model:{value:e.RegisterInfo.plasmadonar,callback:function(t){e.$set(e.RegisterInfo,"plasmadonar",t)},expression:"RegisterInfo.plasmadonar"}}),s("show-errors",{attrs:{control:e.$v.RegisterInfo.plasmadonar,field:e.$t("plasmadonar")}})],1),s("b-col",{attrs:{cols:"12",xl:"4"}},[s("label",[e._v("PinCode")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.RegisterInfo.pincode,expression:"RegisterInfo.pincode"}],staticClass:"form-control",domProps:{value:e.RegisterInfo.pincode},on:{input:function(t){t.target.composing||e.$set(e.RegisterInfo,"pincode",t.target.value)}}}),s("show-errors",{attrs:{control:e.$v.RegisterInfo.pincode,field:e.$t("PinCode")}})],1)],1)],1),s("b-row",[s("b-col",{staticClass:"mb-2 d-flex justify-content-end",attrs:{cols:"12"}},[s("b-button",{staticClass:"mr-1",attrs:{variant:"secondary"},on:{click:e.close}},[e._v("close")]),s("b-button",{attrs:{variant:"primary"},on:{click:e.RegisterData}},[e._v("Add")])],1)],1)],1)],1)],1)},i=[],a=(s("ac6a"),s("96cf"),s("1da1")),r=s("1315"),n=s("b5ae"),l=s("c827"),d=s("bc3a"),c=s.n(d),u=s("3f54");r["Settings"].defaultLocale="ja";var p=u["a"].get("basic"),m={name:"Index",components:{ShowErrors:l["a"]},data:function(){return{indexRefresh:1,selectedBloodGroup:"",selectedCountry:"",selectedState:"",selectedDist:"",selectedCity:"",bloodGroupOption:[],CountryOption:[],StateOption:[],DistOption:[],CityOption:[],DonarData:[],tableData:[],countryData:[],bloodGroupData:[],bloodGroup_Option:[],Country_Option:[],State_Option:[],District_Option:[],City_Option:[],selectModeTable:"single",plasmadonar_Option:[{item:"0",name:"Yes"},{item:"1",name:"No"}],RegisterInfo:{first_name:"",last_name:"",phone:"",email:"",selected_bloodgroup:"",selected_Country:"",selected_State:"",selected_District:"",selected_City:"",plasmadonar:"",address:"",pincode:""}}},computed:{fields:function(){return[{key:"BloodGroup",label:"BloodGroup",class:"text-center normal-width"},{key:"Name",label:"Name",class:"text-center normal-width"},{key:"Email",label:"Email",class:"text-center normal-width"},{key:"Address",label:"Address",class:"text-center normal-width"}]}},validations:{RegisterInfo:{first_name:{required:n["required"]},last_name:{required:n["required"]},phone:{required:n["required"],phoneNumber:n["numeric"],phoneMinLength:Object(n["minLength"])(10)},email:{required:n["required"],email:n["email"]},selected_bloodgroup:{required:n["required"]},selected_Country:{required:n["required"]},selected_State:{required:n["required"]},selected_District:{required:n["required"]},selected_City:{required:n["required"]},plasmadonar:{required:n["required"]},address:{required:n["required"]},pincode:{required:n["required"]}}},mounted:function(){this.serviceGetFunction(),this.getBloodGroupData(),this.getCountryData()},created:function(){},methods:{RegisterData:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$v.RegisterInfo.$touch(),this.$v.RegisterInfo.$invalid){e.next=9;break}return t=[{table:"AddressBook",primary_key:"id",data:[{address:this.RegisterInfo.address,city_id:this.RegisterInfo.selected_City,pincode:this.RegisterInfo.pincode}],dependency:[]},{table:"User",primary_key:"id",data:[{first_name:this.RegisterInfo.first_name,last_name:this.RegisterInfo.last_name,email:this.RegisterInfo.email,phone:this.RegisterInfo.phone,blood_group_id:this.RegisterInfo.selected_bloodgroup,password:"123456789",is_plasma_donor:this.RegisterInfo.plasmadonar}],dependency:[{entity_name:"AddressBook",entity_primary:"id",entity_foreign:"address_book_id"}]}],s="mastermodel/createinmultitablewithdependentids",e.next=6,p.postAPI(s,t);case 6:o=e.sent,console.log(o,"DataData"),o.data.success&&(this.serviceGetFunction(),this.$refs["tree-modal1"].hide());case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showRegisterModal:function(){this.$refs["tree-modal1"].show()},close:function(){this.$refs["tree-modal1"].hide()},getDonarData:function(){var e={paginate:!1,limit:100,fieldlist:["users.id","users.first_name","users.last_name","users.email","users.phone","blood_groups.blood_type","address_books.address","cities.city_name","districts.district_name","states.state_name","states.id as state_id","countries.country_name","countries.dial_code","countries.id as country_id","address_books.pincode","address_books.id as address_book_id","users.blood_group_id","address_books.city_id","districts.id as district_id"],joins:[{table:"blood_groups",join_type:"left",join_conditions:[{join_using:"blood_groups.id",join_operator:"=",join_with:"users.blood_group_id"}]},{table:"address_books",join_type:"left",join_conditions:[{join_using:"address_books.id",join_operator:"=",join_with:"users.address_book_id"}]},{table:"cities",join_type:"left",join_conditions:[{join_using:"cities.id",join_operator:"=",join_with:"address_books.city_id"}]},{table:"districts",join_type:"left",join_conditions:[{join_using:"districts.id",join_operator:"=",join_with:"cities.district_id"}]},{table:"states",join_type:"left",join_conditions:[{join_using:"districts.state_id",join_operator:"=",join_with:"states.id"}]},{table:"countries",join_type:"left",join_conditions:[{join_using:"countries.id",join_operator:"=",join_with:"states.country_id"}]}],conditions:[{key:"countries.id",operator:"=",value:this.selectedCountry},{key:"states.id",operator:"=",value:this.selectedState},{key:"districts.id",operator:"=",value:this.selectedDist},{key:"cities.id",operator:"=",value:this.selectedCity},{key:"users.blood_group_id",operator:"=",value:this.selectedBloodGroup}]},t="https://119.82.96.67:8082/api/master/readwithjoin/users";this.serviceFunction(e,t)},getBloodGroupData:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,o,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="master/readall/blood_groups",e.next=3,p.getAPI(t);case 3:for(s=e.sent,o=s.data,console.log(o,"data2"),this.bloodGroupOption.push({item:"",name:"Select",disabled:!0}),this.bloodGroup_Option.push({item:"",name:"Select",disabled:!0}),this.bloodGroupData=o.data,i=0;i<this.bloodGroupData.length;i++)this.bloodGroupOption.push({item:this.bloodGroupData[i].id,name:this.bloodGroupData[i].blood_type});for(a=0;a<this.bloodGroupData.length;a++)this.bloodGroup_Option.push({item:this.bloodGroupData[a].id,name:this.bloodGroupData[a].blood_type});console.log("this.bloodGroupOption",this.bloodGroupOption);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getCountryData:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,o,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="master/readall/countries",e.next=3,p.getAPI(t);case 3:for(s=e.sent,o=s.data,console.log(o,"data2"),this.countryData=o.data,this.CountryOption.push({item:"",name:"Select",disabled:!0}),this.Country_Option.push({item:"",name:"Select",disabled:!0}),i=0;i<this.countryData.length;i++)this.CountryOption.push({item:this.countryData[i].id,name:this.countryData[i].country_name});for(a=0;a<this.countryData.length;a++)this.Country_Option.push({item:this.countryData[a].id,name:this.countryData[a].country_name});case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getStateDetails:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,o,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.State_Option=[],console.log(this.RegisterInfo,"KKKKKK"),alert("this.RegisterInfo.selected_Country",this.RegisterInfo.selected_Country),t="getstates?country_id=".concat(this.RegisterInfo.selected_Country),e.next=6,p.getAPI(t);case 6:for(s=e.sent,o=s.data,console.log(o,"data2"),i=o,console.log("StateData",i.length),this.StateOption.push({item:"",name:"Select",disabled:!0}),a=0;a<o.length;a++)this.State_Option.push({item:o[a].id,name:o[a].state_name});case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getStateData:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,o,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.StateOption=[],console.log(this.selectedCountry,"selectedCountry"),t="getstates?country_id=".concat(this.selectedCountry),e.next=5,p.getAPI(t);case 5:for(s=e.sent,o=s.data,console.log(o,"data2"),i=o,console.log("StateData",i.length),this.countryData=o.data,this.StateOption.push({item:"",name:"Select",disabled:!0}),a=0;a<o.length;a++)this.StateOption.push({item:o[a].id,name:o[a].state_name});case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getDistDetails:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.District_Option=[],t="getdistricts?state_id=".concat(this.RegisterInfo.selected_State),e.next=4,p.getAPI(t);case 4:for(s=e.sent,o=s.data,console.log(o,"data2"),this.District_Option.push({item:"0",name:"Select",disabled:!0}),i=0;i<o.length;i++)this.District_Option.push({item:o[i].id,name:o[i].district_name});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getDistData:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.DistOption=[],t="getdistricts?state_id=".concat(this.selectedState),e.next=4,p.getAPI(t);case 4:for(s=e.sent,o=s.data,console.log(o,"data2"),this.DistOption.push({item:"",name:"Select",disabled:!0}),i=0;i<o.length;i++)this.DistOption.push({item:o[i].id,name:o[i].district_name});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getCityDetails:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.City_Option=[],t="getcities?district_id=".concat(this.RegisterInfo.selected_District),e.next=4,p.getAPI(t);case 4:for(s=e.sent,o=s.data,console.log(o,"data2"),this.City_Option.push({item:"",name:"Select",disabled:!0}),i=0;i<o.length;i++)this.City_Option.push({item:o[i].id,name:o[i].city_name});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getCityData:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.CityOption=[],t="getcities?district_id=".concat(this.selectedDist),e.next=4,p.getAPI(t);case 4:for(s=e.sent,o=s.data,console.log(o,"data2"),this.CityOption.push({item:"",name:"Select",disabled:!0}),i=0;i<o.length;i++)this.CityOption.push({item:o[i].id,name:o[i].city_name});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),serviceGetFunction:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,o,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="https://119.82.96.67:8082/api/master/readall/users",e.next=3,c.a.get(t);case 3:return s=e.sent,console.log(s,"data"),"200"==s.status&&(this.tableData=s.data.data,console.log(this.tableData,"DATTATATATAT")),[],this.tableData.forEach((function(e){o={BloodGroup:e.blood_type,Name:e.first_name,Phone:e.phone,Address:e.address,Email:e.email},i.DonarData.push(o)})),this.indexRefresh=this.indexRefresh+1,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),serviceFunction:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,s){var o,i,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.DonarData=[],e.next=3,c.a.post(s,t,{headers:{}});case 3:return o=e.sent,console.log(o,"data"),o.data.success&&(this.tableData=o.data.data.data),[],this.tableData.forEach((function(e){i={BloodGroup:e.blood_type,Name:e.first_name,Phone:e.phone,Address:e.address,Email:e.email},a.DonarData.push(i)})),this.indexRefresh=this.indexRefresh+1,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e,this)})));function t(t,s){return e.apply(this,arguments)}return t}()}},f=m,h=(s("3045"),s("2877")),b=Object(h["a"])(f,o,i,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-36c015ca.d9f72606.js.map