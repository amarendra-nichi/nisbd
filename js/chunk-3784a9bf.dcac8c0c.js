(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3784a9bf"],{"62c0":function(t,s,a){"use strict";a.r(s);var o=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"main-content",attrs:{id:"background"}},[t.loading?a("div",{staticClass:"loading"}):a("div",{staticClass:"app flex-row align-items-center"},[a("div",{staticClass:"container"},[a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{md:"7"}},[a("b-card-group",[a("b-card",{staticClass:"p-4",attrs:{"no-body":""}},[a("b-card-body",{staticClass:"card-padding-top"},[t.showMsg?a("b-row",[a("b-button",{staticClass:"back-btn",attrs:{variant:"primary"},on:{click:t.backTo}},[t._v(t._s(t.$t("CLOSE")))])],1):t._e(),a("b-row",[t.showMsg?a("b-col",{attrs:{cols:"12"}},[a("div",{staticClass:"w-full d-flex justify-content-center"},[a("i",{staticClass:"fa fa-check-circle-o fa-4x",staticStyle:{color:"green","font-size":"80px"},attrs:{"aria-hidden":"true"}})]),a("div",{staticClass:"mb-3 font-weight-bold"},[t._v(" "+t._s(t.$t("RESETPASSWORDSUCCESS"))+" ")]),a("div",{staticClass:"font-weight-bold"},[t._v(" "+t._s(t.$t("LOGINID"))+"： "),a("span",[t._v(t._s(t.companyInfo.login_id))])]),a("div",{staticClass:"mb-4 font-weight-bold"},[t._v(" "+t._s(t.$t("LOGINPASSWORD"))+"： "),a("span",[t._v(t._s(t.password))])]),a("div",{staticClass:"font-weight-bold"},[t._v(" "+t._s(t.$t("RESETCOMPLETE1"))+" "),a("span",{staticClass:"text-blue"},[t._v(" "+t._s(t.companyInfo.mail_address)+" ")]),t._v(" "+t._s(t.$t("PASSWORDRESETLINKSENT2"))+" "),a("div",[t._v(t._s(t.$t("RESETCOMPLETE2")))])])]):t._e()],1),t.showMsg?t._e():a("b-form",{on:{submit:function(s){return s.preventDefault(),t.submit.apply(null,arguments)}}},[a("div",{staticClass:"text-center title-fw title-fs"},[t._v(" "+t._s(t.$t("RESETPASSWORD"))+" ")]),a("br"),a("p",{staticClass:"text-center text-danger"},[t._v(" "+t._s(t.validationMessage)+" ")]),a("b-row",{staticClass:"mb-2"},[a("b-col",["USER"==t.access_role?a("div",{staticClass:"title-text"},[t._v(" "+t._s(t.$t("CUSTOMERINFORMATION"))+" ")]):a("div",{staticClass:"title-text"},[t._v(" "+t._s(t.$t("PERSONINCHARGEINFO"))+" ")])])],1),a("div",{staticClass:"padding-level-1"},[a("b-row",{staticClass:"mb-2"},["USER"==t.access_role?a("b-col",{attrs:{cols:"5"}},[t._v(t._s(t.$t("COMPANYNAME")))]):a("b-col",{attrs:{cols:"5"}},[t._v(t._s(t.$t("AFFILIATIONNAME")))]),a("b-col",{attrs:{cols:"7"}},[t._v(t._s(t.companyInfo.company_name))])],1),a("b-row",{staticClass:"mb-2"},[a("b-col",{attrs:{cols:"5"}},[t._v(t._s(t.$t("CONTACTNAME")))]),a("b-col",{attrs:{cols:"7"}},[t._v(t._s(t.companyInfo.contact_name))])],1),a("b-row",{staticClass:"mb-2"},[a("b-col",{attrs:{cols:"5"}},[t._v(t._s(t.$t("MAILADDRESS")))]),a("b-col",{attrs:{cols:"7"}},[t._v(t._s(t.companyInfo.mail_address))])],1)],1),a("b-row",{staticClass:"mb-2 mt-3"},[a("b-col",[a("div",{staticClass:"title-text"},[t._v(" "+t._s(t.$t("LOGININFORMATION"))+" ")])])],1),a("div",{staticClass:"padding-level-1"},[a("b-row",{staticClass:"mb-2"},[a("b-col",{attrs:{cols:"5"}},[t._v(t._s(t.$t("LOGINID")))]),a("b-col",{attrs:{cols:"7"}},[t._v(t._s(t.companyInfo.login_id))])],1),a("b-form-group",[a("b-row",[a("b-col",{attrs:{cols:"12",sm:"6",lg:"5"}},[a("label",{staticClass:"line-3"},[t._v(t._s(t.$t("NEWPASSWORD")))]),a("b-button",{staticClass:"px-4 required-btn ml-1",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))])],1),a("b-col",{attrs:{cols:"12",sm:"6",md:"7"}},[a("b-input-group",{staticClass:"mb-1",scopedSlots:t._u([{key:"append",fn:function(){return[a("b-input-group-text",{staticClass:"pointer",on:{click:t.toggleNewPassword}},[a("strong",[a("span",{staticClass:"\n                                      fa fa-fw fa-eye\n                                      toggle-password\n                                      pointer\n                                    ",class:{"view-password-selected":t.showNewPassword},attrs:{toggle:"#password-field"}})])])]},proxy:!0}],null,!1,3791739595)},[a("b-form-input",{staticClass:"form-control",attrs:{placeholder:t.$t("NEWPASSWORD"),type:t.newPasswordType},model:{value:t.$v.password.$model,callback:function(s){t.$set(t.$v.password,"$model","string"===typeof s?s.trim():s)},expression:"$v.password.$model"}})],1),a("show-errors",{attrs:{control:t.$v.password,field:t.$t("NEWPASSWORD")}})],1)],1)],1),a("b-form-group",[a("b-row",[a("b-col",{attrs:{cols:"12",sm:"6",lg:"5"}},[a("label",{staticClass:"line-3"},[t._v(" "+t._s(t.$t("CONFIRMPASSWORD"))+" ")]),a("b-button",{staticClass:"px-4 required-btn ml-1",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))])],1),a("b-col",{attrs:{cols:"12",sm:"6",md:"7"}},[a("b-input-group",{staticClass:"mb-1",scopedSlots:t._u([{key:"append",fn:function(){return[a("b-input-group-text",{staticClass:"pointer",on:{click:t.toggleConfirmPassword}},[a("strong",[a("span",{staticClass:"fa fa-fw fa-eye toggle-password",class:{"view-password-selected":t.showConfirmPassword},attrs:{toggle:"#password-field"}})])])]},proxy:!0}],null,!1,3294912688)},[a("b-form-input",{staticClass:"form-control",attrs:{placeholder:t.$t("CONFIRMPASSWORD"),type:t.confirmPasswordType},model:{value:t.$v.confirm_password.$model,callback:function(s){t.$set(t.$v.confirm_password,"$model","string"===typeof s?s.trim():s)},expression:"$v.confirm_password.$model"}})],1),a("show-errors",{attrs:{control:t.$v.confirm_password,field:t.$t("CONFIRMPASSWORD")}})],1)],1)],1),a("b-row",{staticClass:"mb-4"},[a("b-col",[a("div",{staticClass:"small-fs mb-2 text-center"},[t._v(" "+t._s(t.$t("RESETPASSWORDLEBEL2"))+" ")])])],1)],1),a("b-row",[a("b-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("b-button",{staticClass:"px-4 reset-btn",attrs:{disabled:t.onSubmit,variant:"primary",type:"submit"}},[t._v(" "+t._s(t.$t("RESET"))+" "),t.onSubmit?a("i",{staticClass:"fa fa-spinner fa-spin"}):t._e()])],1)],1)],1)],1)],1)],1)],1)],1)],1)])])},e=[],n=(a("96cf"),a("1da1")),i=(a("6762"),a("2fdb"),a("b5ae")),c=a("c827"),r=a("3f54"),l=a("d3a4"),d=a("2f4e"),m=r["a"].get("basic"),p={name:"UserResetPassword",components:{ShowErrors:c["a"]},data:function(){return{loading:!1,showMsg:!1,password:"",confirm_password:"",validationMessage:"",onSubmit:!1,showNewPassword:!1,showConfirmPassword:!1,companyInfo:{company_name:"",contact_name:"",mail_address:"",login_id:"",client_account_no:""}}},validations:{password:{required:i["required"],minLength:Object(i["minLength"])(8),maxLength:Object(i["maxLength"])(15)},confirm_password:{sameAsPassword:Object(i["sameAs"])("password")}},computed:{newPasswordType:function(){return this.showNewPassword?"text":"password"},confirmPasswordType:function(){return this.showConfirmPassword?"text":"password"}},watch:{password:function(){this.clearApiValidation()},confirm_password:function(){this.clearApiValidation()},$route:"verifyToken"},created:function(){this.verifyToken()},beforeCreate:function(){window.location.pathname.includes("mng")?(localStorage.setItem("role","ADMIN"),this.access_role="ADMIN"):(localStorage.setItem("role","USER"),this.access_role="USER")},methods:{toggleOnSubmit:function(){this.onSubmit=!this.onSubmit},submit:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var s,a,o,e,n,i,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.$touch(),this.$v.$invalid){t.next=17;break}if(this.toggleOnSubmit(),"USER"!=localStorage.getItem("role")){t.next=11;break}return t.next=6,m.postAPI(d["a"].RESETPASSWORD,{remind_mail:this.companyInfo.mail_address,client_account_no:this.companyInfo.client_account_no,client_login_pass:this.password,client_name:this.companyInfo.contact_name,client_login_id:this.companyInfo.login_id});case 6:s=t.sent,a=s.data,a.success?(o=this.getSuccessHtml(),this.$swal({width:750,type:"success",html:o,customClass:{popup:"format-pre"}}).then((function(){c.$router.push({name:"user_login"})}))):this.validationMessage=this.$t("backend."+a.message.code),t.next=16;break;case 11:return t.next=13,m.postAPI(d["a"].MRESETPASSWORD,{remind_mail:this.companyInfo.mail_address,client_account_no:this.companyInfo.client_account_no,client_login_pass:this.password,client_name:this.companyInfo.contact_name,client_login_id:this.companyInfo.login_id});case 13:e=t.sent,n=e.data,n.success?(i=this.getSuccessHtml(),this.$swal({width:750,type:"success",html:i,customClass:{popup:"format-pre"}}).then((function(){c.$router.push({name:"admin_login"})}))):this.validationMessage=this.$t("backend."+n.message.code);case 16:this.toggleOnSubmit();case 17:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),verifyToken:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var s,a,o,e,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.loading=!0,"USER"!=localStorage.getItem("role")){t.next=10;break}return t.next=4,m.postAPI(d["a"].VERIFYRESETPASSWORDTOKEN,{onetime_pass:this.$route.params.token});case 4:s=t.sent,a=s.data,this.loading=!1,a.success?(o=a.data,this.companyInfo.company_name=o.client_name,this.companyInfo.contact_name=o.client_person_name,this.companyInfo.mail_address=o.client_mail,this.companyInfo.client_account_no=o.client_account_no,this.companyInfo.login_id=o.client_login_id):this.$router.push("/404"),t.next=16;break;case 10:return t.next=12,m.postAPI(d["a"].MVERIFYRESETPASSWORDTOKEN,{onetime_pass:this.$route.params.token});case 12:e=t.sent,n=e.data,this.loading=!1,n.success?(i=n.data,this.companyInfo.company_name=i.client_name,this.companyInfo.contact_name=i.client_person_name,this.companyInfo.mail_address=i.client_mail,this.companyInfo.client_account_no=i.client_account_no,this.companyInfo.login_id=i.client_login_id):this.$router.push("/404");case 16:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),backTo:function(){"ADMIN"==localStorage.getItem("role")?this.$router.push({name:"admin_login"}):this.$router.push("/")},toggleNewPassword:function(){this.showNewPassword=!this.showNewPassword},toggleConfirmPassword:function(){this.showConfirmPassword=!this.showConfirmPassword},getSuccessHtml:function(){var t='<div class="mb-3 font-weight-bold text-left"> '+l["a"].t("RESETPASSWORDSUCCESS")+" </div>";return t+='<div class="font-weight-bold text-left">'+l["a"].t("LOGINID")+"：<span>"+this.companyInfo.login_id+"</span></div>",t+='<div class="mb-4 font-weight-bold text-left">'+l["a"].t("LOGINPASSWORD")+"：<span>"+this.password+"</span>  </div>",t+='<div class="font-weight-bold text-left">'+l["a"].t("RESETCOMPLETE1")+'<span class="text-blue">'+this.companyInfo.mail_address+"</span>"+l["a"].t("PASSWORDRESETLINKSENT2")+"<div>"+l["a"].t("RESETCOMPLETE2")+"</div></div>",t},clearApiValidation:function(){this.validationMessage=""}}},u=p,_=(a("9d52"),a("2877")),f=Object(_["a"])(u,o,e,!1,null,"5af45f64",null);s["default"]=f.exports},"9d52":function(t,s,a){"use strict";a("ce49")},ce49:function(t,s,a){}}]);
//# sourceMappingURL=chunk-3784a9bf.dcac8c0c.js.map